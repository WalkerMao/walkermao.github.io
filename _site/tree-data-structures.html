<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://kit.fontawesome.com/123ecac47c.js" crossorigin="anonymous"></script><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="shortcut icon" type="image/png" href="/assets/portfolio.png">
<title>Tree Data Structures</title>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tree Data Structures | Weikai’s blog.</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Tree Data Structures" />
<meta name="author" content="Weikai Mao" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="General Tree" />
<meta property="og:description" content="General Tree" />
<link rel="canonical" href="http://localhost:4000/tree-data-structures.html" />
<meta property="og:url" content="http://localhost:4000/tree-data-structures.html" />
<meta property="og:site_name" content="Weikai’s blog." />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-16T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Tree Data Structures" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Weikai Mao"},"dateModified":"2020-08-16T00:00:00+08:00","datePublished":"2020-08-16T00:00:00+08:00","description":"General Tree","headline":"Tree Data Structures","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/tree-data-structures.html"},"url":"http://localhost:4000/tree-data-structures.html"}</script>
<!-- End Jekyll SEO tag -->


<meta name="google-site-verification" content="wXp8C1QlYKCpKxfXyFfQXEv9l5fJvcOi53ofYmOcaSA" />
<meta name="msvalidate.01" content="97F0BB32D312B808156DE357EA8474D3" />
<meta name="yandex-verification" content="690106a82d8966ab" />

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[", "\\]"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno"
      }
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>    


  







</head>
  <body>
    <main class="container">
      <section class="about">
        <a href="/" class="iconlink"> 
          <h3> 
            <i class="fas fa-home"></i> HOME 
          </h3> 
        </a>
        <a href="/"> <img src="/assets/portfolio.png" alt="Weikai Mao"></a>
        <h2 id="title"> Weikai Mao </h2>
        <p style="font-size:90%" class="tagline">maoweikai123@outlook.com</p>
        
        <ul class="social"><a href="https://github.com/WalkerMao">
              <li>
                <i class="fab fa-github"></i>
              </li>
            </a><a href="https://www.linkedin.com/in/weikai-mao-000249124">
              <li>
                <i class="fab fa-linkedin"></i>
              </li>
            </a><a href="/wechat-qr-code.html">
              <li>
                <i class="fab fa-weixin"></i>
              </li>
            </a></ul><h3 style="color:gray; font-weight:normal"> Categories: </h3>
            <ul class="post-categories" style="max-width:225px;">
              
                  <a class="post-link" href="/"> <li style="padding: 4px 8px;"> All </li> </a>
              
                  <a class="post-link" href="/categories/cs"> <li style="padding: 4px 8px;"> CS </li> </a>
              
                  <a class="post-link" href="/categories/cv"> <li style="padding: 4px 8px;"> CV </li> </a>
              
                  <a class="post-link" href="/categories/dl"> <li style="padding: 4px 8px;"> DL </li> </a>
              
                  <a class="post-link" href="/categories/fe"> <li style="padding: 4px 8px;"> FE </li> </a>
              
                  <a class="post-link" href="/categories/math"> <li style="padding: 4px 8px;"> Math </li> </a>
              
                  <a class="post-link" href="/categories/ml"> <li style="padding: 4px 8px;"> ML </li> </a>
              
                  <a class="post-link" href="/categories/nlp"> <li style="padding: 4px 8px;"> NLP </li> </a>
              
                  <a class="post-link" href="/categories/stat"> <li style="padding: 4px 8px;"> Stat </li> </a>
              
                  <a class="post-link" href="/categories/杂"> <li style="padding: 4px 8px;"> 杂 </li> </a>
              
            </ul><p>&copy; 2023 </p>

      </section>
      <section class="content">
        <div class="sidebar">
  <ul><li><a href="#general-tree">General Tree</a></li><li><a href="#binary-tree">Binary Tree</a><ul><li><a href="#tree-traversals">Tree Traversals</a></li></ul></li><li><a href="#binary-search-tree">Binary Search Tree</a></li><li><a href="#avl-tree">AVL Tree</a></li><li><a href="#red-black-tree">Red Black Tree</a><ul><li><a href="#avl-tree-vs-red-black-tree">AVL Tree v.s. Red Black Tree</a></li></ul></li><li><a href="#splay-tree">Splay Tree</a></li><li><a href="#b-tree">B-Tree</a><ul><li><a href="#compared-with-other-self-balancing-search-trees">Compared with Other Self-Balancing Search Trees</a></li></ul></li></ul>

</div><div class="post-container" id="viewpoint">
  <a class="post-link" href="/tree-data-structures.html">
    <h2 class="post-title">Tree Data Structures</h2>
  </a>
  <div class="post-meta">
    <div>
      <ul class="post-categories"><a class="post-link" href="/categories/cs"> <li>CS</li> </a></ul>
      <ul class="post-tags"><a class="post-link" href="/tags/data structures"> <li>Data structures</li> </a></ul>
    </div>
    <div class="post-date">
      <i class="icon-calendar"></i>
      Aug 16, 2020
    </div>
  </div>
  <div style="line-height:77%;">
    <br>
  </div>
  <div class="post"><h2 id="general-tree">General Tree</h2>

<p>A tree is a collection of nodes. The collection can be empty; otherwise, a tree consists of</p>

<ul>
  <li>a distinguished node called the root $r$;</li>
  <li>and zero or more nonempty (sub)trees, each of whose roots are connected by a directed edge from $r$.</li>
</ul>

<div style="text-align: center"> <img src="../../../pictures/terminology-of-tree.png" alt="Terminology-of-tree" style="zoom:60%;" /> </div>

<p>We define the <strong>depth</strong> of a node as the length of the unique path from the root to the node, and the <strong>height</strong> of a node as the longest path from the node to a leaf. In the plot above,</p>

\[\text{Depth}(P)=0, \text{Depth}(M)=3, \text{Height}(E)=0, \text{Height}(Q)=3.\]

<h2 id="binary-tree">Binary Tree</h2>

<p>A <strong>binary tree</strong> is a tree data structure in which a node can have at most two child nodes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># definition for a binary tree node.
</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>
</code></pre></div></div>

<p>A <strong>full binary tree</strong> is a binary tree in which each node has exactly zero or two children. A <strong>complete binary tree</strong> is a binary tree, which is completely filled, with the possible exception of the bottom level, which is filled from left to right.</p>

<div style="text-align: center"> <img src="../../../pictures/full-and-complete-tree.bmp" alt="full-and-complete-tree" style="zoom: 80%;" /> </div>

<h3 id="tree-traversals">Tree Traversals</h3>

<ul>
  <li>Preorder: node -&gt; left -&gt; right;</li>
  <li>Inorder: left -&gt; node -&gt; right;</li>
  <li>Postorder: left -&gt; right -&gt; node.</li>
</ul>

<div style="text-align: center"> <img src="../../../pictures/binary-tree-traversal.png" alt="binary-tree-traversal" style="zoom:50%;" /> </div>

<p>Postorder traversal can compute the heights of the nodes, while preorder tarversal can compute the depths of the nodes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># traverse a binary tree recursively.
</span><span class="k">def</span> <span class="nf">traverseTreeRecursively</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
    <span class="n">preorder</span><span class="p">,</span> <span class="n">inorder</span><span class="p">,</span> <span class="n">postorder</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(),</span> <span class="nb">list</span><span class="p">(),</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">recursion</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">preorder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span> <span class="c1"># preorder traversal
</span>            <span class="n">recursion</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="n">inorder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span> <span class="c1"># inorder traversal
</span>            <span class="n">recursion</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="n">postorder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span> <span class="c1"># postorder traversal
</span>
        <span class="n">recursion</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">preorder</span><span class="p">,</span> <span class="n">inorder</span><span class="p">,</span> <span class="n">postorder</span>
</code></pre></div></div>

<h2 id="binary-search-tree">Binary Search Tree</h2>

<p>A <strong>binary search tree</strong> (<strong>BST</strong>) is a binary tree, in which the value (or key) of the left child of a given node should be less than or equal to the parent value and the value of the right child should be greater than or equal to the parent value. That is, <code class="language-plaintext highlighter-rouge">left.val &lt;= node.val &lt;= right.val</code>.</p>

<p>Inorder traversal of BST gives nodes in non-decreasing order, and thus BST can be used to implement simple sorting algorithms.</p>

<p>Given a tree with $N$ nodes, the average time complexity of search in a binary tree is $O(N)$, but it is $O(\log_2N)$ for BST, since $\log_2N$ is the average depth of a binary tree (or BST). For the same reason, the average time complexity of insertion and deletion in a BST is also $O(\log_2N)$.</p>

<p>However, in the worst case, BST can have $O(N)$ height, when the skewed tree resembles a linked list. As shown below,</p>

<div style="text-align: center"> <img src="../../../pictures/skewed-tree.webp" alt="skewed-tree" style="zoom: 50%;" /> </div>

<p>In this worst case, the time complexity of search, insertion and deletion in a BST is $O(N)$.</p>

<h2 id="avl-tree">AVL Tree</h2>

<p>An <strong>AVL tree</strong> is a self-balancing BST, in which each node stores a value called a <strong>balance factor</strong> which is the difference in height between its left subtree and right subtree and all the nodes must have a balance factor of $-1$, $0$ or $1$.</p>

<div style="text-align: center"> <img src="../../../pictures/AVL-tree.jpg" alt="AVL-tree" style="zoom:70%;" /> </div>

<p>The height of an AVL tree is always $O(\log_2 N)$. Thus, either in the average or worst case, the time complexity of search, insertion and deletion in a AVL tree is $O(\log_2N)$.</p>

<h2 id="red-black-tree">Red Black Tree</h2>

<p>A <strong>red-black tree</strong> is a self-balancing BST in which every node follows following rules:</p>

<ul>
  <li>
    <p>Every node is either red or black;</p>
  </li>
  <li>
    <p>The root is black;</p>
  </li>
  <li>
    <p>Every leaf (denoted as NIL) is black;</p>
  </li>
  <li>
    <p>Every path from a node (including root) to any of its descendant leaf node has the same number of black nodes.</p>
  </li>
</ul>

<div style="text-align: center"> <img src="../../../pictures/red-black.png" alt="Red-black-tree" style="zoom: 60%;" /> </div>

<p>Similar to AVL trees, the height of a red-black tree is always $O(\log_2 N)$. Thus, either in the average or worst case, the time complexity of search, insertion and deletion in a red-black tree is $O(\log_2N)$.</p>

<h3 id="avl-tree-vs-red-black-tree">AVL Tree v.s. Red Black Tree</h3>

<p>AVL tree: more balanced; Red-black tree: less rotations.</p>

<p>The AVL tree and other self-balancing search trees like Red Black are useful to get all basic operations done in $O(\log_2 n)$ time. The AVL trees are more balanced compared to red-black trees, but they may cause more rotations during insertion and deletion. So if your application involves many frequent insertions and deletions, then red-black trees should be preferred. And if the insertions and deletions are less frequent and search is the more frequent operation, then AVL tree should be preferred.</p>

<h2 id="splay-tree">Splay Tree</h2>

<p>A <strong>splay tree</strong> is a self-balancing BST in which the most recently accessed node is pushed to the root by a series of rotations, and thus it is quick to be accessed again.</p>

<div style="text-align: center"> <img src="../../../pictures/splay-tree.png" alt="Splay-tree" style="zoom: 60%;" /> </div>

<p>In a splay tree, the frequently accessed nodes will move nearer to the root where they can be accessed more quickly. The worst-case height (though unlikely) is $O(N)$, with the average being $O(\log_2N)$. Having frequently-used nodes near the root is an advantage for many practical applications like locality of reference, and is particularly useful for implementing  caches and garbage collection algorithms.</p>

<p>The amortized time complexity of search, insertion and deletion in a splay tree is $O(\log_2N)$. That is, any $S$ consecutive tree operations take at most $O(S \log_2 N)$ time.</p>

<h2 id="b-tree">B-Tree</h2>

<p>A <strong>B-tree</strong> is a self-balancing search tree that keeps data in sorted order. A B-tree of order $M$ is a tree which satisfies the following properties:</p>

<ul>
  <li>
    <p>All actual data are stored at the leafs;</p>
  </li>
  <li>
    <p>The root is either a leaf or has between $2$ and $M$ children;</p>
  </li>
  <li>
    <p>Nonleaf nodes (except the root) have between $\frac{M}{2}$ and $M$ children;</p>
  </li>
  <li>
    <p>All leaves are at the same depth.</p>
  </li>
</ul>

<div style="text-align: center"> <img src="../../../pictures/B-tree.png" alt="B-tree" style="zoom:55%;" /> </div>

<p>Either in the average or worst case, the time complexity of search, insertion and deletion in a B-tree of order $M$ is $O(\log_MN)$.</p>

<h3 id="compared-with-other-self-balancing-search-trees">Compared with Other Self-Balancing Search Trees</h3>

<p>When the data is too huge to fit in main memory and the data is read from disk, the total disk accesses in a B-tree are reduced significantly since the height of the B-tree is low.</p>

<p>In most of the other self-balancing search trees (like AVL and red-black trees), it is assumed that everything is in main memory. To understand the use of B-Trees, we must think of the huge amount of data that cannot fit in main memory. When the number of keys is high, the data is read from disk in the form of blocks. Disk access time is very high compared to the main memory access time.</p>

<p>The main idea of using B-Trees is to reduce the number of disk accesses. Most of the tree operations (search, insert, delete, max, min, etc.) require $O(h)$ disk accesses where $h$ is the height of the tree. B-tree is a fat tree. The height of B-Trees is kept low by putting maximum possible keys in a B-Tree node. Generally, the B-Tree node size is kept equal to the disk block size. Since the height of the B-tree is low so total disk accesses for most of the operations are reduced significantly compared to balanced BST like AVL Tree, red-black Tree, etc..</p>

<p><br /></p>

<p><strong>References:</strong></p>

<p>Allen, W. M. (2007). <em>Data structures and algorithm analysis in C++</em>. Pearson Education India.</p>

<p>https://www.cs.cmu.edu/~adamchik/15-121/lectures/Trees/trees.html.</p>

<p>https://www.geeksforgeeks.org.</p>

<p>https://www.bigocheatsheet.com.</p>

<p>https://towardsdatascience.com/8-useful-tree-data-structures-worth-knowing-8532c7231e8c.</p>

  </div>

  <br> </br>
  <p><font color="grey" size="4"> Comments </font></p>
  <HR color=#D1D0CE SIZE=10>

<div id="disqus_thread"></div>

<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://walkermao.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


                            

  
</div>

      </section>
    </main><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178951885-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178951885-1');
</script>

    
    <div id="back-top">
      <a href="javascript:void(0);" onclick="topFunction()" title="Back to top"> </a>
    </div>

  </body>
</html>

<script src = "/assets/js/scroll_into_view.js"></script>
<script src = "/assets/js/back_to_top.js"></script>